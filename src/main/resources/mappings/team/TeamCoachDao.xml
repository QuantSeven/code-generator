<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace必须指向Dao接口 -->
<mapper namespace="qya.pousheng.demo.dao.team.TeamCoachDao">
	<resultMap id="TeamCoachResultMap" type="qya.pousheng.demo.model.team.TeamCoach">
		<id property="coachId" column="COACH_ID" />
		<result property="coachName" column="COACH_NAME" />
		<result property="coachTitle" column="COACH_TITLE" />
		<result property="description" column="DESCRIPTION" />
		<result property="teamId" column="TEAM_ID" />
	</resultMap>

	<!-- 定义可重用的SQL代码段，可以包含在其他语句中 -->
	<sql id="base_column">
		COACH_ID
		,COACH_NAME
		,COACH_TITLE
		,DESCRIPTION
		,TEAM_ID
	</sql>

	<!-- 定义可重用的WHERE SQL公共代码段，可以包含在其他语句中 -->
	<sql id="where_column">
		<if test="coachId != null and coachId != ''">
			AND COACH_ID = #{coachId,jdbcType=VARCHAR}
		</if>
		<if test="coachName != null and coachName != ''">
			AND COACH_NAME = #{coachName,jdbcType=VARCHAR}
		</if>
		<if test="coachTitle != null and coachTitle != ''">
			AND COACH_TITLE = #{coachTitle,jdbcType=VARCHAR}
		</if>
		<if test="description != null and description != ''">
			AND DESCRIPTION = #{description,jdbcType=VARCHAR}
		</if>
		<if test="teamId != null and teamId != ''">
			AND TEAM_ID = #{teamId,jdbcType=VARCHAR}
		</if>
	</sql>

	<select id="find" resultMap="TeamCoachResultMap">

		SELECT
		<include refid="base_column" />
		FROM t_team_coach
		WHERE COACH_ID=#{coachId,jdbcType=VARCHAR}

	</select>

	<select id="findByPk" resultMap="TeamCoachResultMap">

		SELECT
		<include refid="base_column" />
		FROM t_team_coach
		WHERE COACH_ID=#{coachId,jdbcType=VARCHAR}
		
	</select>

	<select id="findByPage" resultMap="TeamCoachResultMap">

		SELECT
		<include refid="base_column" />
		FROM t_team_coach
		<where>
			<include refid="where_column" />
		</where>

	</select>
	
	<insert id="insert" parameterType="qya.pousheng.demo.model.team.TeamCoach">

		INSERT INTO t_team_coach
		(COACH_ID
		,COACH_NAME
		,COACH_TITLE
		,DESCRIPTION
		,TEAM_ID
		)
		VALUES (#{coachId,jdbcType=VARCHAR}
		,#{coachName}
		,#{coachTitle}
		,#{description}
		,#{teamId}
		)

	</insert>

	<update id="update" parameterType="qya.pousheng.demo.model.team.TeamCoach">

		UPDATE t_team_coach
		<set>
			<if test="coachId != null and coachId != ''">
				COACH_ID = #{coachId,jdbcType=VARCHAR},
			</if>
			<if test="coachName != null and coachName != ''">
				COACH_NAME = #{coachName,jdbcType=VARCHAR},
			</if>
			<if test="coachTitle != null and coachTitle != ''">
				COACH_TITLE = #{coachTitle,jdbcType=VARCHAR},
			</if>
			<if test="description != null and description != ''">
				DESCRIPTION = #{description,jdbcType=VARCHAR},
			</if>
			<if test="teamId != null and teamId != ''">
				TEAM_ID = #{teamId,jdbcType=VARCHAR},
			</if>
		</set>
		WHERE COACH_ID = #{coachId,jdbcType=VARCHAR}
		
	</update>

	<delete id="deleteByPk">

		DELETE FROM t_team_coach
		WHERE COACH_ID = #{coachId,jdbcType=VARCHAR}
		
	</delete>

	<delete id="delete">

		DELETE FROM t_team_coach
		WHERE COACH_ID
		IN
		<foreach item="teamCoachId" index="index" collection="array" open="(" separator="," close=")">
			#{teamCoachId}
		</foreach>

	</delete>
	
	<select id="findByTeamId" resultMap="TeamCoachResultMap">
		SELECT
		<include refid="base_column" />
		FROM t_team_coach
		<where>
			<include refid="where_column" />
		</where>
	</select>
	
</mapper> 
